(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{148:function(e,t,n){},149:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),o=n(10),i=n.n(o),s=n(19),l=n(33),u=n(17),d=n(71),j=n.n(d),b=n(224),O=n(225),g=n(228),f=n(227),p=n(226),h=n(55),m=n.n(h),v=n(28),x="goal-tracker/history/HISTORY_CLEAR";var y=n(222),w=n(223),k=n(21),S=n(38),C=n(6),A=Object(S.and)([Object(S.integer)(),Object(S.between)({gt:0})]);Object(C.shape)({id:C.string.isRequired,name:C.string.isRequired,target:A.isRequired,units:C.string.isRequired}),Object(C.oneOf)(["logged-out","pending","logged-in","failure"]),Object(S.and)([Object(S.keysOf)(C.string),Object(C.objectOf)(S.nonNegativeInteger)]);function E(e,t,n){var a="".concat(t," in ").concat(n," must"),r=e[t];if(!Array.isArray(r))return new Error("".concat(a," be an array."));if(2!==r.length||!r.every(Number.isInteger))return new Error("".concat(a," be a pair of integers."));var c=Object(k.a)(r,2),o=c[0],i=c[1];return o<0?new Error("".concat(a," start with a non-negative progress value.")):i<=0?new Error("".concat(a," end with a positive target value.")):null}function T(e,t,n){return null==e[t]?null:E(e,t,n)}T.isRequired=E;Object(C.shape)({date:C.string.isRequired,progresses:Object(S.and)([Object(S.keysOf)(C.string),Object(C.objectOf)(T)]).isRequired});var D=n(68),P=n(246),N=n(247),R={full:new Intl.DateTimeFormat("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),medium:new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric"})},U=["Aujourd\u2019hui","Hier","Avant-hier"];function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.refDate,r=void 0===a?new Date:a;if("string"===typeof e&&(e=new Date(e)),"string"===typeof r&&(r=new Date(r)),t)return R[t].format(e);var c=Object(P.a)(r,e);return U[c]||R.full.format(e)}function _(e){return Object(N.a)(e,{representation:"date"})}var q=n(178),L=n(221),F=n(217),G=function(e){var t=e.max,n=e.value;return Object(a.jsx)(F.a,{style:{height:8},variant:"determinate",value:W(n,t)})};function W(e,t){return e*(100/t)}G.defaultProps={max:100};var M=G,H=function(e){var t=e.goal,n=t.name,r=t.units,c=e.stats;c=void 0===c?[]:c;var o=Object(k.a)(c,2),i=o[0],s=void 0===i?0:i,l=o[1],u=Object(a.jsxs)("div",{children:[Object(a.jsx)(M,{value:s,max:l}),s," ",r," sur ",l]});return Object(a.jsx)(q.a,{children:Object(a.jsx)(L.a,{component:"div",primary:n,secondary:u,secondaryTypographyProps:{component:"div"}})})},V=function(e){var t=e.goals,n=e.stats,r=n.date,c=n.progresses;return Object(a.jsxs)("div",{children:[Object(a.jsx)(y.a,{}),Object(a.jsxs)(w.a,{children:[Object(a.jsx)(v.a,{variant:"subtitle1",children:I(r)}),t.map((function(e){var t=c[e.id];return t?Object(a.jsx)(H,{goal:e,stats:t},e.id):null}))]})]})},z=function(e){return{goals:e.goals,history:e.history}},B=function(){Object(r.useEffect)((function(){document.title="Mon historique"}),[]);var e=Object(s.c)(z),t=e.goals,n=e.history,c=Object(s.b)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(b.a,{component:l.b,to:"/",variant:"text",children:[Object(a.jsx)(j.a,{}),"Retour"]}),Object(a.jsxs)(O.a,{className:"history",children:[Object(a.jsx)(p.a,{title:"Historique"}),Object(a.jsxs)(f.a,{children:[n.map((function(e){return Object(a.jsx)(V,{goals:t,stats:e},e.date)})),0===n.length&&Object(a.jsx)(v.a,{children:"Aucun historique disponible"})]}),n.length>0&&Object(a.jsx)(g.a,{children:Object(a.jsxs)(b.a,{variant:"contained",onClick:function(){return c({type:x})},children:[Object(a.jsx)(m.a,{}),"R\xe9initialiser"]})})]})]})},X=n(110),J=n.n(X),Y=n(248),Q=n(243),$="goal-tracker/currentUser/AUTH_LOGIN_FAILURE",K="goal-tracker/currentUser/AUTH_LOGIN_START",Z="goal-tracker/currentUser/AUTH_LOGIN_SUCCESS",ee="goal-tracker/currentUser/AUTH_LOGOUT";var te=n(12),ne=n(230),ae=n(229),re=n(109),ce=n.n(re),oe=n(108),ie=n.n(oe),se=function(e){var t=Object(r.useState)(!1),n=Object(k.a)(t,2),c=n[0],o=n[1],i=c?"text":"password",s=c?"Masquer le mot de passe":"Voir le mot de passe",l=c?Object(a.jsx)(ie.a,{}):Object(a.jsx)(ce.a,{}),u=Object(a.jsx)(ae.a,{position:"end",children:Object(a.jsx)(ne.a,{"arial-label":s,onClick:function(){o((function(e){return!e}))},title:s,children:l})});return Object(a.jsx)(Q.a,Object(te.a)(Object(te.a)({},e),{},{InputProps:{endAdornment:u},type:i}))},le=(n(148),function(e){return e.currentUser.loginState}),ue=function(){Object(r.useEffect)((function(){document.title="Identifiez-vous"}),[]);var e=Object(r.useState)(""),t=Object(k.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),i=Object(k.a)(o,2),l=i[0],u=i[1],d=Object(s.c)(le),j=Object(s.b)(),h="pending"===d,m=h?null:Object(a.jsx)(J.a,{}),v=!h&&n&&l,x="failure"===d?Object(a.jsx)(Y.a,{message:"Identifiant ou mot de passe invalide",open:!0}):"";return Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(function(e,t){return{type:K,meta:{offline:{effect:{json:{email:e,password:t},method:"POST",url:"http://localhost:3001/api/v1/sessions"},commit:{type:Z,payload:{email:e}},rollback:{type:$}}}}}(n,l))},children:[Object(a.jsxs)(O.a,{className:"loginScreen",children:[Object(a.jsx)(p.a,{title:"Goal Tracker",subheader:"Connexion"}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(Q.a,{autoComplete:"home email",id:"email",label:"E-mail",fullWidth:!0,margin:"normal",onChange:function(e){return c(e.target.value.toLowerCase())},placeholder:"mon@email.tld",required:!0,type:"email",value:n}),Object(a.jsx)(se,{autoComplete:"current-password",id:"password",label:"Mot de passe",fullWidth:!0,margin:"normal",onChange:function(e){return u(e.target.value)},placeholder:"super mot de passe",required:!0,value:l})]}),Object(a.jsx)(g.a,{style:{display:"flex",justifyContent:"center"},children:Object(a.jsxs)(b.a,{color:"primary",disabled:!v,type:"submit",variant:"contained",children:[m,"Connecte-toi"]})})]}),x]})},de=n(112),je=n.n(de),be=n(113),Oe=n.n(be),ge=n(57),fe=n.n(ge),pe=n(232),he=n(111),me=n.n(he),ve=function(e){var t=e.goal,n=e.goal,r=n.name,c=n.units,o=n.target,i=e.onProgress,s=e.progress,l=o>s?Object(a.jsx)(pe.a,{color:"secondary",onClick:function(){return null===i||void 0===i?void 0:i(t)},size:"small",children:Object(a.jsx)(fe.a,{"data-testid":"in-progress"})}):Object(a.jsx)(pe.a,{disabled:!0,size:"small",children:Object(a.jsx)(me.a,{"data-testid":"completed"})});return Object(a.jsxs)("div",{className:"goal",children:[Object(a.jsxs)("div",{className:"summary",children:[Object(a.jsx)(v.a,{variant:"h6",component:"h2",children:r}),Object(a.jsx)(M,{value:s,max:o}),Object(a.jsx)(v.a,{component:"small",children:"".concat(s," ").concat(c," sur ").concat(o)})]}),Object(a.jsx)("div",{className:"cta",children:l})]})},xe=n(56),ye="goal-tracker/todaysProgress/PROGRESS";n(149);var we=function(e){return{goals:e.goals,today:e.today,todaysProgress:e.todaysProgress}},ke=function(){Object(r.useEffect)((function(){document.title="Mes objectifs du jour"}),[]);var e=Object(s.c)(we),t=e.goals,n=e.today,c=e.todaysProgress,o=Object(s.b)();return Object(a.jsxs)(O.a,{className:"goalTracker",children:[Object(a.jsx)(p.a,{subheader:Object(a.jsx)(M,Object(te.a)({},function(){var e=function(e,t){var n,a=0,r=0,c=Object(D.a)(t);try{for(c.s();!(n=c.n()).done;){var o=n.value,i=o.id,s=o.target;a+=e[i]||0,r+=s}}catch(l){c.e(l)}finally{c.f()}return{totalProgress:a,totalTarget:r}}(c,t),n=e.totalProgress,a=e.totalTarget;return{value:n,max:a}}())),title:I(n,"medium")}),Object(a.jsx)(f.a,{children:t.map((function(e){return Object(a.jsx)(ve,{goal:e,onProgress:i,progress:c[e.id]||0},e.id)}))}),Object(a.jsxs)(g.a,{children:[Object(a.jsxs)(b.a,{color:"secondary",component:l.b,to:"/history",variant:"contained",children:[Object(a.jsx)(je.a,{})," Historique"]}),Object(a.jsxs)(b.a,{component:l.b,to:"/settings",variant:"contained",children:[Object(a.jsx)(Oe.a,{})," Param\xe8tres"]})]})]});function i(e){var t=e.id;o(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t=Number(t)||0,{type:ye,payload:{goalId:e,increment:t}}}(t))}},Se=function(e){return"logged-in"===e.currentUser.loginState},Ce=function(){return Object(s.c)(Se)?Object(a.jsx)(ke,{}):Object(a.jsx)(ue,{})},Ae=n(93),Ee=function(e){var t=e.component,n=Object(Ae.a)(e,["component"]),r=Object(s.c)(Te),o=Object(u.f)(),i=Object(u.g)();if(r)return c.a.createElement(t,n);var l="PUSH"===o.action;return Object(a.jsx)(u.a,{push:l,to:{pathname:"/",state:{from:i}}})},Te=function(e){return"logged-in"===e.currentUser.loginState},De=function(e){var t=e.component,n=Object(Ae.a)(e,["component"]);return Object(a.jsx)(u.b,Object(te.a)(Object(te.a)({},n),{},{render:function(e){return Object(a.jsx)(Ee,Object(te.a)({component:t},e))}}))},Pe=n(239),Ne=n(116),Re=n.n(Ne),Ue=n(75),Ie=n(150),_e="goal-tracker/goals/GOALS_ADD",qe="goal-tracker/goals/GOALS_DEL",Le="goal-tracker/goals/GOALS_UPDATE";var Fe=n(245),Ge=n(249),We=n(237),Me=n(234),He=n(233),Ve=n(73),ze=n.n(Ve),Be=n(236),Xe=n(235),Je={id:void 0,name:"",target:5,units:"",keepOpen:!0},Ye=function(e){var t=e.goal,n=e.onAdd,c=e.onCancel,o=e.open,i=Object(r.useState)(Je),s=Object(k.a)(i,2),l=s[0],u=s[1],d=Object(r.useState)(void 0),j=Object(k.a)(d,2),O=j[0],g=j[1];O!==t.id&&(u(Object(te.a)(Object(te.a)(Object(te.a)({},Je),t),{},{keepOpen:void 0===t.id})),g(t.id));var f="id"in t;return Object(a.jsxs)(Ge.a,{"aria-labelledby":"addGoalTitle",onClose:c,open:o,children:[Object(a.jsx)(He.a,{id:"addGoalTitle",children:f?"Modifier un objectif":"Ajouter un objectif"}),Object(a.jsxs)(Me.a,{children:[Object(a.jsx)(Q.a,{fullWidth:!0,label:"Nom",margin:"normal",name:"name",onChange:function(e){return p(e,"name")},required:!0,value:l.name}),Object(a.jsx)(Q.a,{label:"Quantit\xe9 par jour",margin:"normal",name:"target",onChange:function(e){return p(e,"target")},required:!0,type:"number",value:l.target})," ",Object(a.jsx)(Q.a,{label:"Unit\xe9",margin:"normal",name:"units",onChange:function(e){return p(e,"units")},placeholder:"pas, minutes de course\u2026",required:!0,value:l.units}),f?"":Object(a.jsx)(Xe.a,{children:Object(a.jsx)(Be.a,{control:Object(a.jsx)(Fe.a,{checked:l.keepOpen,onChange:function(e,t){return p(e,"keepOpen",t)}}),label:"Garder ouvert pour l\u2019ajout suivant"})})]}),Object(a.jsxs)(We.a,{children:[Object(a.jsx)(b.a,{color:"secondary",onClick:c,variant:"text",children:"Annuler"}),f?Object(a.jsxs)(b.a,{color:"primary",onClick:h,variant:"text",children:[Object(a.jsx)(ze.a,{}),"Modifier"]}):Object(a.jsxs)(b.a,{color:"primary",onClick:h,variant:"text",children:[Object(a.jsx)(fe.a,{}),"Ajouter"]})]})]});function p(e,t,n){if("keepOpen"===t)u(Object(te.a)(Object(te.a)({},l),{},{keepOpen:n}));else{var a="target"===t?Number:String;u(Object(te.a)(Object(te.a)({},l),{},Object(xe.a)({},t,a(e.target.value))))}}function h(){n(l),u(Je)}},Qe=n(238),$e=function(e){var t=e.goal,n=void 0===t?{}:t,r=e.onCancel,c=e.onDelete,o=e.open;return Object(a.jsxs)(Ge.a,{"aria-labelledby":"deleteGoalTitle",onClose:r,open:o,children:[Object(a.jsx)(He.a,{id:"deleteGoalTitle",children:"Supprimer un objectif"}),Object(a.jsx)(Me.a,{children:Object(a.jsxs)(Qe.a,{children:["Supprimer l\u2019objectif ","\xab\xa0".concat(n.name,"\xa0\xbb\xa0?")]})}),Object(a.jsxs)(We.a,{children:[Object(a.jsx)(b.a,{color:"secondary",onClick:r,children:"Ouh l\xe0, non\xa0!"}),Object(a.jsxs)(b.a,{color:"primary",onClick:c,children:[Object(a.jsx)(m.a,{}),"Adios\xa0!"]})]})]})},Ke=n(114),Ze=n.n(Ke),et=n(241),tt=n(122),nt=n(240),at=n(115),rt=n.n(at),ct=n(5),ot={moreIcons:{color:Ze.a[400]}},it=Object(ct.a)(ot)((function(e){var t=e.classes,n=e.goal,c=e.goal,o=c.name,i=c.target,s=c.units,l=e.onDeleteClick,u=e.onEditClick,d=Object(r.useState)(null),j=Object(k.a)(d,2),b=j[0],O=j[1],g="rightIconMenu-".concat(o.replace(/\W+/,"-").toLowerCase());return Object(a.jsxs)(q.a,{children:[Object(a.jsx)(L.a,{primary:o,secondary:"".concat(i," ").concat(s)}),Object(a.jsxs)(Pe.a,{children:[Object(a.jsx)(ne.a,{"arial-label":"Plus d\u2019actions\u2026","aria-owns":b?g:null,"aria-haspopup":"true",onClick:function(e){O(e.currentTarget)},children:Object(a.jsx)(rt.a,{classes:{root:t.moreIcons}})}),Object(a.jsxs)(tt.a,{anchorEl:b,id:g,open:Boolean(b),onClose:f,children:[Object(a.jsxs)(nt.a,{onClick:function(){f(),null===u||void 0===u||u(n)},children:[Object(a.jsx)(et.a,{children:Object(a.jsx)(ze.a,{})}),"Modifier"]}),Object(a.jsxs)(nt.a,{onClick:function(){f(),null===l||void 0===l||l(n)},children:[Object(a.jsx)(et.a,{children:Object(a.jsx)(m.a,{})}),"Supprimer"]})]})]})]});function f(){O(null)}})),st={goal:{},dialog:null},lt=function(e){return{goals:e.goals,email:e.currentUser.email}},ut=function(){Object(r.useEffect)((function(){document.title="Mes param\xe8tres"}),[]);var e=Object(r.useState)(st),t=Object(k.a)(e,2),n=t[0],c=n.goal,o=n.dialog,i=t[1],u=Object(s.c)(lt),d=u.goals,h=u.email,m=Object(s.b)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(b.a,{component:l.b,to:"/",variant:"text",children:[Object(a.jsx)(j.a,{}),"Retour"]}),Object(a.jsxs)(O.a,{className:"settings",children:[Object(a.jsx)(p.a,{title:"Param\xe8tres"}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsxs)(q.a,{children:[Object(a.jsx)(L.a,{primary:"Vous \xeates connect\xe9-e en tant que",secondary:h}),Object(a.jsx)(Pe.a,{children:Object(a.jsx)(ne.a,{onClick:function(){return m({type:ee})},children:Object(a.jsx)(Re.a,{})})})]})}),Object(a.jsx)(y.a,{}),Object(a.jsxs)(w.a,{children:[Object(a.jsx)(v.a,{variant:"subtitle1",children:"Mes objectifs"}),d.map((function(e){return Object(a.jsx)(it,{goal:e,onDeleteClick:S,onEditClick:C},e.id)})),0===d.length&&Object(a.jsx)(q.a,{children:Object(a.jsx)(L.a,{secondary:"Aucun objectif pour le moment"})})]})]}),Object(a.jsx)(g.a,{children:Object(a.jsxs)(b.a,{color:"primary",onClick:function(){i({goal:{},dialog:"add-or-update"})},variant:"contained",children:[Object(a.jsx)(fe.a,{}),"Ajouter un objectif"]})})]}),Object(a.jsx)(Ye,{goal:c,onAdd:function(e){var t=e.id,n=e.name,a=e.target,r=e.units,c=e.keepOpen;void 0!==t?(m(function(e,t,n,a){return{type:Le,payload:{id:e,name:t,target:n,units:a}}}(t,n,a,r)),c=!1):m(function(e,t,n){return{type:_e,payload:{name:e,target:t,units:n}}}(n,a,r));c||x()},onCancel:x,open:"add-or-update"===o}),Object(a.jsx)($e,{goal:c,onCancel:x,onDelete:function(){m((e=c.id,{type:qe,payload:{id:e}})),x();var e},open:"delete"===o})]});function x(){i(st)}function S(e){i({goal:e,dialog:"delete"})}function C(e){i({goal:e,dialog:"add-or-update"})}},dt=n(41),jt=n(117),bt=n.n(jt),Ot=n(118),gt=n(89),ft=n.n(gt),pt=n(250),ht=n(121),mt="goal-tracker/closeDay/CLOSE_DAY";function vt(e){var t,n=e.goals,a=e.history,r=e.today,c=e.todaysProgress,o={},i=Object(D.a)(n);try{for(i.s();!(t=i.n()).done;){var s=t.value,l=s.id,u=s.target,d=c[l]||0;d>0&&(o[l]=[d,u])}}catch(b){i.e(b)}finally{i.f()}var j={date:r,progresses:o};return Object.keys(j.progresses).length>0?[j].concat(Object(Ue.a)(a)):a}var xt=Object(dt.combineReducers)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loginState:"logged-out"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loginState:"pending"};case $:return{loginState:"failure"};case Z:var n=t.payload.email;return{loginState:"logged-in",email:n};case ee:return{loginState:"logged-out"};default:return e}},goals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:var n=t.payload,a=n.name,r=n.target,c=n.units,o=Ie.generate();return[].concat(Object(Ue.a)(e),[{id:o,name:a,target:r,units:c}]);case qe:return e.filter((function(e){return e.id!==t.payload.id}));case Le:return e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return[];default:return e}},today:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_(new Date);return e},todaysProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:var n=t.payload,a=n.goalId,r=n.increment,c=e[a]||0;return Object(te.a)(Object(te.a)({},e),{},Object(xe.a)({},a,c+r));default:return e}}}),yt=Object(ht.a)(xt,(function(e,t){switch(t.type){case mt:return Object(te.a)(Object(te.a)({},e),{},{history:vt(e),today:_(new Date),todaysProgress:{}});default:return e}})),wt={currentUser:{loginState:"logged-in",email:"christophe@delicious-insights.com"},goals:[{id:"5bf57a79890a6e2c11ec9665",name:"Apprendre React",target:5,units:"aspects"},{id:"5bf57a79890a6e2c11ec9666",name:"Apprendre Redux",target:2,units:"vid\xe9os"},{id:"5bf57a79890a6e2c11ec9667",name:"Apprendre Webpack",target:3,units:"pages de doc"}],today:_(new Date),todaysProgress:{"5bf57a79890a6e2c11ec9665":1,"5bf57a79890a6e2c11ec9666":1,"5bf57a79890a6e2c11ec9667":1},history:[{date:_(Object(pt.a)(new Date,1)),progresses:{"5bf57a79890a6e2c11ec9665":[2,5],"5bf57a79890a6e2c11ec9666":[1,2]}},{date:_(Object(pt.a)(new Date,2)),progresses:{"5bf57a79890a6e2c11ec9665":[4,5],"5bf57a79890a6e2c11ec9666":[1,2],"5bf57a79890a6e2c11ec9667":[2,3]}},{date:_(Object(pt.a)(new Date,3)),progresses:{"5bf57a79890a6e2c11ec9665":[3,5],"5bf57a79890a6e2c11ec9666":[2,2],"5bf57a79890a6e2c11ec9667":[1,3]}}]},kt=Object(te.a)(Object(te.a)({},ft.a),{},{persistOptions:{storage:bt.a}}),St="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e};var Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.shouldPersist,a=void 0===n||n,r=a?Object(dt.compose)(Object(Ot.offline)(kt),St):St,c=Object(dt.createStore)(yt,e,r);return c}(),At=function(){return Object(a.jsx)(s.a,{store:Ct,children:Object(a.jsx)(l.a,{children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u.b,{exact:!0,path:"/",component:Ce}),Object(a.jsx)(De,{exact:!0,path:"/settings",component:ut}),Object(a.jsx)(De,{exact:!0,path:"/history",component:B})]})})})},Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,251)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},Tt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Dt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Pt=n(242),Nt=n.p+"static/media/clock-reset.eeca1765.png",Rt=new Intl.DateTimeFormat("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),Ut=(setInterval((function(){"00:00:00"===Rt.format(new Date)&&It()}),1e3),!1);!function(){if("undefined"===typeof window||!window.Notification)return;(Ut="granted"===window.Notification.permission)||window.Notification.requestPermission((function(e){Ut="granted"===e}))}(),function(){var e=Ct.getState().today;e&&Object(P.a)(Object(Pt.a)(e),new Date)<0&&It()}();function It(){Ct.dispatch({type:mt}),function(e){var t=e.title,n=e.text,a=e.icon,r=e.secondsVisible,c=void 0===r?0:r;if(!Ut)return;var o=new window.Notification(t,{body:n,icon:a,lang:"fr",requireInteraction:c>0,tag:"goal-tracker",vibrate:[100,50,100,50,100]});c>0&&"function"===typeof o.close&&o.addEventListener("show",(function(){setTimeout((function(){return o.close()}),1e3*c)}))}({title:"Fin de journ\xe9e\xa0!",text:"Vos objectifs ont \xe9t\xe9 historis\xe9s et repartent \xe0 z\xe9ro.",icon:Nt,secondsVisible:4})}i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(At,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Tt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Dt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Dt(t,e)}))}}(),Et()}},[[176,1,2]]]);
//# sourceMappingURL=main.95b3b4a9.chunk.js.map